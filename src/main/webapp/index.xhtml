<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Auron</title>
</h:head> 
<body>
	<p:messages id="messages" autoUpdate="true" />
	<p:fieldset legend="Preencha seus dados:">
			<h:form>
				<p:panelGrid columns="2">
						<p:outputLabel value="Nome: "/>
						<p:inputText value="#{participanteBean.participante.nome}" />
				
						<p:outputLabel value="Email: "/>
						<p:inputText value="#{participanteBean.participante.email}" />
						
						<p:outputLabel value="Senha: "/>
						<p:password value="#{participanteBean.participante.senha}" />
						
						<p:row>
							<p:column colspan="2">
								<p:commandButton action="#{participanteBean.cadastra}" value="Cadastrar" update=":listaParticipantes"/>
							</p:column> 
						</p:row>
				</p:panelGrid>
			</h:form>
	</p:fieldset>
	
	<br />
	
	<p:fieldset legend="Preencha seus dados:" id="listaParticipantes">
			<p:dataTable value="#{participanteBean.participantes}" var="participante" emptyMessage="Ainda nao hÃ¡ participantes cadastrados!">
				<p:column headerText="Nome">
					<h:outputText value="#{participante.nome}" />
				</p:column>
				<p:column headerText="Email">
					<h:outputText value="#{participante.email}" />
				</p:column>				
			</p:dataTable>
	</p:fieldset>
	
	<!-- AJAX Loader Modal -->
	<p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
	<p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
	    <p:graphicImage name="imagens/ajax.gif" />
	</p:dialog>
</body> 
</html>
